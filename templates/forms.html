{% macro showform(mode, columns) -%}
<form id="userForm" class="w3-row-padding w3-padding-large" method="POST" action="/saveinfo" style="width: 50%;margin: auto;color:black" enctype="multipart/form-data">
    {% if mode == 'take_snap' %}
        {% for column in columns %}
        <div>
            <p>
                <label style="color:white">{{ column.upper() }}</label>
                <input type="text" id="{{ column }}" placeholder="Enter {{ column }}" class="w3-input w3-border w3-round-large" required>
            </p>
        </div>
        {% endfor %}

        <div class="w3-container w3-center w3-padding-large">
            <button 
                type="button"
                onclick="take_snapshot()" 
                class="w3-button w3-2021-french-blue w3-round-large w3-xxlarge w3-margin-xlarge" 
                style="color:white; border:none;width:3em">
                <i class="glyphicon glyphicon-camera"></i>
            </button>
        </div>

    {% else %}
        {% for column in columns %}
            <div>
                <p>
                    <label style="color:white">{{ column.upper() }}</label>
                    <input type="text" id="my_{{ column }}" name="my_{{ column }}" class="w3-input w3-border w3-round-large" readonly>
                </p>
            </div>
        {% endfor %}

        <!-- Hidden input for the snapshot image data -->
        <input type="hidden" id="image_data" name="image_data">

        <div class="w3-container w3-center w3-padding-large">
            <button 
                type="submit"
                class="w3-button w3-2021-french-blue w3-round-large w3-xxlarge w3-margin-xlarge" 
                style="color:white; border:none;width:3em">
                <i class="glyphicon glyphicon-saved"></i>
            </button>
        </div>
    {% endif %}
</form>
{%- endmacro %}

{% macro flash_messages() -%}
{% with messages = get_flashed_messages(with_categories=true) %}
	{% if messages %}
		{% for category, message in messages %}
			{% if category == 'info' or category =='success' %}
				<div class="w3-panel w3-bar w3-large w3-green w3-display-topmiddle w3-margin-top w3-padding w3-animate-zoom" style="width:50%;margin:auto">
					<span align="center">{{ message }}</span>
					<span onclick="this.parentElement.style.display='none'" class="w3-button w3-large w3-small w3-display-topright">&times;</span>
				</div>
			{% elif category == 'error' %}
				<div class="w3-panel w3-bar w3-large w3-red w3-display-topmiddle w3-margin-top w3-padding w3-animate-zoom" style="width:50%;margin:auto">
					<span align="center">{{ message }}</span>
					<span onclick="this.parentElement.style.display='none'" class="w3-button w3-large w3-small w3-display-topright">&times;</span>
				</div>
			{% endif %}
		{% endfor %}
	{% endif %}
{% endwith %}
{%- endmacro %}

{% macro showimagemodal(modal_name, id, student_image, lastname, firstname, course, level) -%}
<div id="{{ id }}" class="w3-modal w3-mobile ">
    <div class="w3-modal-content w3-animate-zoom" style="width: 41%;">
        <header class="w3-container w3-2021-french-blue">
            <span onclick="document.getElementById('{{ id }}').style.display='none'"
            class="w3-button w3-display-topright w3-large">&times;</span>
            <h2 class="w3-center">{{ modal_name }}</h2>
        </header>
        <div class="w3-center" style="position: absolute;">
            <img style="width:550px; height:400px"src="{{ url_for('static', filename='images/studentimage/'+ student_image) }}" alt="Student Image" >
            <div class="" style="width:100%;position: relative;bottom:7.5em;color:white;">
                <h3 style="text-decoration: underline;">{{ lastname.title() + ', ' + firstname.title() }}</h3>
                <p><i>Student Name</i></p>
            </div>
        </div>

    </div>
</div>
{%- endmacro %}